<?xml version="1.0" encoding="UTF-8"?>
<svg id="team-map" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 880 520" aria-labelledby="ttl">
  <title id="ttl">Team Map</title>
  <defs>
    <!-- 霓虹渐变 -->
    <linearGradient id="neo" x1="0" y1="0" x2="1" y2="1">
      <stop offset="0" stop-color="#39c3ff"/>
      <stop offset="1" stop-color="#6b8cff"/>
    </linearGradient>
    <!-- 背景网格 -->
    <pattern id="grid" width="28" height="28" patternUnits="userSpaceOnUse">
      <path d="M28 0H0V28" fill="none" stroke="rgba(57,195,255,.18)" stroke-width="1"/>
    </pattern>
    <!-- 柔光 -->
    <filter id="glow" x="-30%" y="-30%" width="160%" height="160%">
      <feGaussianBlur stdDeviation="3" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <!-- 轻颗粒质感 -->
    <filter id="grain" x="-20%" y="-20%" width="140%" height="140%">
      <feTurbulence type="fractalNoise" baseFrequency=".9" numOctaves="1" stitchTiles="stitch" result="t"/>
      <feColorMatrix in="t" type="saturate" values="0"/>
      <feComponentTransfer>
        <feFuncA type="table" tableValues="0 0 .05 0"/>
      </feComponentTransfer>
      <feBlend in2="SourceGraphic" mode="screen"/>
    </filter>
    <!-- 节点发光 -->
    <filter id="nodeGlow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur stdDeviation="4" result="b"/>
      <feMerge><feMergeNode in="b"/><feMergeNode in="SourceGraphic"/></feMerge>
    </filter>
    <style>
      .bg { fill: #08111d; }
      .panel { fill: rgba(12,22,36,.55); stroke: rgba(150,180,255,.32); stroke-width: 1; }
      .ring { stroke: url(#neo); stroke-width: 3; fill: none; opacity: .8; filter: url(#glow); }
      .island { stroke: url(#neo); fill: rgba(57,195,255,.06); stroke-width: 3.5; filter: url(#glow); }
      .path { stroke: url(#neo); stroke-width: 2.2; fill: none; stroke-dasharray: 6 8; opacity: .9; }
      .node { fill: #76d1ff; filter: url(#nodeGlow); }
      .node-dot { fill: #c8e7ff; }
      .label { fill: #eaf4ff; font: 600 14px/1.2 "Inter", system-ui, -apple-system, "PingFang SC", "Hiragino Sans GB", "Noto Sans CJK SC", sans-serif; }
      .label.mono { font-weight: 700; font-variant-numeric: tabular-nums; }
      .title { fill: #d8e8ff; font: 800 22px/1 "Orbitron","Inter",system-ui,sans-serif; letter-spacing: .02em; }
      .pill { fill: rgba(150, 180, 255, .12); stroke: rgba(150,180,255,.38); stroke-width: 1.2; }
      .btn { fill: rgba(80, 140, 255, .16); stroke: url(#neo); stroke-width: 1.6; }
      .btn-text { fill: #e6f2ff; font: 700 16px/1 "Inter", system-ui, sans-serif; letter-spacing: .02em; }
      .scan { fill: url(#neo); opacity: .06; }
      /* 动效 */
      @keyframes dash { to { stroke-dashoffset: -140; } }
      @keyframes pulse { 0%,100% { r: 4; opacity: .6 } 50% { r: 7; opacity: 1 } }
      .path { animation: dash 6s linear infinite; }
      .node-dot { animation: pulse 2.6s ease-in-out infinite; }
    </style>
  </defs>

  <!-- 背景 -->
  <rect class="bg" width="100%" height="100%"/>
  <rect width="100%" height="100%" fill="url(#grid)" filter="url(#grain)"/>

  <!-- 右上信息胶囊：标题 + 总产量 -->
  <g transform="translate(560,24)">
    <rect class="pill" rx="12" ry="12" width="296" height="74"/>
    <text class="title" x="16" y="30" data-i18n="team_title">团队地图</text>
    <text class="label" x="16" y="56" data-i18n="team_total_output_label">总产量</text>
    <text class="label mono" id="t_out_value" x="92" y="56">12,345 ARC</text>
  </g>

  <!-- 左侧进入费用胶囊 -->
  <g transform="translate(24,24)">
    <rect class="pill" rx="12" ry="12" width="230" height="74"/>
    <text class="label" x="16" y="30" data-i18n="team_entry_fee_label">进入费用</text>
    <text class="label mono" id="t_fee_value" x="16" y="56">5 ARC</text>
  </g>

  <!-- 中部地图岛 + 连线 + 节点 -->
  <g transform="translate(60,100)">
    <!-- 装饰圆环 -->
    <circle class="ring" cx="360" cy="180" r="180"/>
    <circle class="ring" cx="360" cy="180" r="120" opacity=".65"/>
    <!-- 岛轮廓 -->
    <path class="island" d="M190,260 C140,190 165,90 260,80 C350,65 380,120 430,125 C520,134 560,170 566,220
                             C572,264 548,305 510,320 C470,337 420,320 375,320 C330,320 234,330 190,260 z"/>
    <!-- 脉动主路径 -->
    <path class="path" d="M290,310 L250,220 L300,150 L370,210 L420,140 L490,210 L450,280 L370,250 Z"/>
    <!-- 节点 -->
    <g>
      <circle class="node" cx="290" cy="310" r="4.5"/><circle class="node-dot" cx="290" cy="310" r="4"/>
      <circle class="node" cx="250" cy="220" r="4.5"/><circle class="node-dot" cx="250" cy="220" r="4"/>
      <circle class="node" cx="300" cy="150" r="4.5"/><circle class="node-dot" cx="300" cy="150" r="4"/>
      <circle class="node" cx="370" cy="210" r="4.5"/><circle class="node-dot" cx="370" cy="210" r="4"/>
      <circle class="node" cx="420" cy="140" r="4.5"/><circle class="node-dot" cx="420" cy="140" r="4"/>
      <circle class="node" cx="490" cy="210" r="4.5"/><circle class="node-dot" cx="490" cy="210" r="4"/>
      <circle class="node" cx="450" cy="280" r="4.5"/><circle class="node-dot" cx="450" cy="280" r="4"/>
      <circle class="node" cx="370" cy="250" r="4.5"/><circle class="node-dot" cx="370" cy="250" r="4"/>
    </g>
  </g>

  <!-- 底部信息条：队长 / 席位 / CTA -->
  <g transform="translate(24,432)">
    <rect class="panel" rx="12" ry="12" width="832" height="64"/>
    <text class="label" x="18"  y="40" data-i18n="team_captain">队长</text>
    <text class="label mono" x="62"  y="40" id="t_captain">0x3aB…91C</text>
    <text class="label" x="220" y="40" data-i18n="team_slots">席位</text>
    <text class="label mono" x="264" y="40" id="t_slots">87/120</text>

    <!-- CTA 按钮 -->
    <g transform="translate(640,12)" cursor="pointer" id="t_join_btn">
      <rect class="btn" rx="10" ry="10" width="168" height="40"/>
      <text class="btn-text" x="84" y="26" text-anchor="middle" data-i18n="team_join_btn">申请加入</text>
    </g>
  </g>

  <!-- 纵向扫描光带（微动效） -->
  <rect class="scan" x="-60" y="0" width="40" height="520" opacity=".12">
    <animate attributeName="x" from="-60" to="940" dur="9s" repeatCount="indefinite"/>
  </rect>
</svg>
    <rect x="-140" y="-30" width="140" height="60" rx="12" fill="rgba(255,255,255,.04)" stroke="rgba(255,255,255,.08)"/>
    <text x="-70" y="8" text-anchor="middle" fill="#9ad3ff" font-size="14">ARC Protocol</text>
  </g>
</svg>
